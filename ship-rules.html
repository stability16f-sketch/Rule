<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KR STABILITY</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            background: linear-gradient(to bottom, #1e3a8a 0%, #3b82f6 50%, #0ea5e9 100%);
            position: relative;
            overflow-x: hidden;
        }

        /* ë°”ë‹¤ ì• ë‹ˆë©”ì´ì…˜ */
        .ocean {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom,
                rgba(30, 58, 138, 0.3) 0%,
                rgba(59, 130, 246, 0.5) 50%,
                rgba(14, 165, 233, 0.7) 100%);
            z-index: 0;
        }

        .wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 200%;
            height: 150px;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120"><path d="M0,50 Q300,0 600,50 T1200,50 L1200,120 L0,120 Z" fill="rgba(255,255,255,0.1)"/></svg>');
            background-size: 600px 120px;
            animation: wave 15s linear infinite;
        }

        .wave:nth-child(2) {
            bottom: 20px;
            opacity: 0.5;
            animation: wave 10s linear infinite reverse;
        }

        @keyframes wave {
            0% { transform: translateX(0); }
            100% { transform: translateX(-600px); }
        }

        /* ì„ ë°• ì• ë‹ˆë©”ì´ì…˜ */
        .ship {
            position: fixed;
            bottom: 180px;
            right: -200px;
            font-size: 60px;
            animation: sail 30s linear infinite;
            z-index: 1;
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.3));
        }

        @keyframes sail {
            0% { right: -200px; }
            100% { right: 100%; }
        }

        .container {
            position: relative;
            z-index: 10;
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header h1 {
            font-size: 36px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            font-weight: 600;
            color: #1e3a8a;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .form-group select,
        .form-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s;
            background: white;
        }

        .form-group select:focus,
        .form-group input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            padding: 10px;
            background: #f8fafc;
            border-radius: 8px;
            transition: background 0.2s;
        }

        .checkbox-item:hover {
            background: #e0f2fe;
        }

        .checkbox-item input[type="checkbox"] {
            width: 18px;
            height: 18px;
            margin-right: 10px;
            cursor: pointer;
            accent-color: #3b82f6;
        }

        .checkbox-item label {
            cursor: pointer;
            margin: 0;
            font-size: 14px;
            color: #334155;
        }

        .search-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 10px;
        }

        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.4);
        }

        .search-btn:active {
            transform: translateY(0);
        }

        .pdf-btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 15px;
            display: none;
        }

        .pdf-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.4);
        }

        .pdf-btn:active {
            transform: translateY(0);
        }

        .pdf-btn.show {
            display: block;
        }

        .result {
            background: #f0f9ff;
            border-left: 4px solid #3b82f6;
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
            display: none;
        }

        .result.show {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .result h3 {
            color: #1e40af;
            margin-bottom: 15px;
            font-size: 20px;
        }

        .result-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        @media (max-width: 1024px) {
            .result-grid {
                grid-template-columns: 1fr 1fr;
            }
        }

        @media (max-width: 768px) {
            .result-grid {
                grid-template-columns: 1fr;
            }
        }

        /* PDF ì¸ì‡„ ìŠ¤íƒ€ì¼ */
        @media print {
            body {
                background: white;
            }

            .ocean, .ship, .header, .card form, .pdf-btn {
                display: none !important;
            }

            .container {
                max-width: 100%;
                padding: 0;
            }

            .card {
                background: white;
                box-shadow: none;
                padding: 20px;
            }

            .result {
                display: block !important;
                background: white;
                border: none;
                padding: 0;
                margin: 0;
            }

            .result h3 {
                color: #000;
                font-size: 24px;
                margin-bottom: 20px;
                page-break-after: avoid;
            }

            .result-grid {
                grid-template-columns: 1fr 1fr;
                gap: 15px;
            }

            .result-item {
                background: white;
                border: 1px solid #ddd;
                padding: 12px;
                page-break-inside: avoid;
            }

            .result-item h4 {
                color: #000;
                font-size: 14px;
                margin-bottom: 6px;
            }

            .result-item p {
                color: #333;
                font-size: 12px;
                line-height: 1.5;
            }

            .badge {
                background: #eee;
                color: #333;
                border: 1px solid #ccc;
            }
        }

        .result-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .result-item h4 {
            color: #1e3a8a;
            margin-bottom: 8px;
            font-size: 16px;
        }

        .result-item p {
            color: #4b5563;
            line-height: 1.6;
            font-size: 14px;
        }

        .badge {
            display: inline-block;
            background: #3b82f6;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            margin-right: 5px;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="ocean">
        <div class="wave"></div>
        <div class="wave"></div>
    </div>
    <div class="ship">ğŸš¢</div>

    <div class="container">
        <div class="header">
            <h1>âš“ KR STABILITY</h1>
            <p>ì„ ë°•ì˜ ì¢…ë¥˜, í•­í•´êµ¬ì—­, ê¸¸ì´ë¥¼ ì…ë ¥í•˜ì—¬ ì ìš©ë˜ëŠ” ê·œì¹™ì„ í™•ì¸í•˜ì„¸ìš”</p>
        </div>

        <div class="card">
            <form id="shipForm">
                <div class="form-group">
                    <label for="nationality">êµ­ì </label>
                    <select id="nationality" required>
                        <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                        <option value="korean">í•œêµ­ì </option>
                        <option value="foreign">ìˆœìˆ˜ì™¸êµ­ì </option>
                        <option value="bbchp">BBCHP</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="shipType">ì„ ë°•ì˜ ì¢…ë¥˜</label>
                    <select id="shipType" required>
                        <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                        <option value="cargo">í™”ë¬¼ì„  (Cargo Ship)</option>
                        <option value="tanker">íƒ±ì»¤ (Tanker)</option>
                        <option value="passenger">ì—¬ê°ì„  (Passenger Ship)</option>
                        <option value="container">ì»¨í…Œì´ë„ˆì„  (Container Ship)</option>
                        <option value="fishing">ì–´ì„  (Fishing Vessel)</option>
                        <option value="yacht">ìš”íŠ¸ (Yacht)</option>
                        <option value="lng">LNGì„  (LNG Carrier)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="voyageArea">í•­í•´êµ¬ì—­</label>
                    <select id="voyageArea" required>
                        <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                        <option value="ocean">ì›ì–‘ (Ocean Going)</option>
                        <option value="coastal">ê·¼í•´ (Great Coastal)</option>
                        <option value="harbor">ì—°í•´ (Coastal)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="length">ì„ ë°• ê¸¸ì´ (ë¯¸í„°)</label>
                    <input type="number" id="length" placeholder="ì˜ˆ: 100" min="1" required>
                </div>

                <div class="form-group">
                    <label>ì„ ê¸‰ë¶€í˜¸ (ì¶”ê°€ íŠ¹ì„±)</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="ice" name="notation" value="ice">
                            <label for="ice">ICE (ë¹™í•´êµ¬ì—­)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="oil" name="notation" value="oil">
                            <label for="oil">OIL REC (ìœ íšŒìˆ˜ì„¤ë¹„)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="dp" name="notation" value="dp">
                            <label for="dp">DP (ë™ì ìœ„ì¹˜ìœ ì§€)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="eedi" name="notation" value="eedi">
                            <label for="eedi">EEDI (ì—ë„ˆì§€íš¨ìœ¨)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="green" name="notation" value="green">
                            <label for="green">GREEN (ì¹œí™˜ê²½)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="bwts" name="notation" value="bwts">
                            <label for="bwts">BWTS (í‰í˜•ìˆ˜ì²˜ë¦¬)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="scrubber" name="notation" value="scrubber">
                            <label for="scrubber">SCRUBBER (ìŠ¤í¬ëŸ¬ë²„)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="lngfuel" name="notation" value="lngfuel">
                            <label for="lngfuel">LNG FUEL (LNGì—°ë£Œ)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="esp" name="notation" value="esp">
                            <label for="esp">ESP (ê°•í™”ê²€ì‚¬)</label>
                        </div>
                    </div>
                </div>

                <button type="submit" class="search-btn">ğŸ” ì ìš© ê·œì¹™ ê²€ìƒ‰</button>
            </form>

            <div id="result" class="result">
                <h3>ğŸ“‹ ì ìš©ë˜ëŠ” ê·œì¹™</h3>
                <div id="resultContent"></div>
            </div>

            <button id="pdfBtn" class="pdf-btn" onclick="downloadPDF()">
                ğŸ–¨ï¸ PDFë¡œ ì €ì¥ (ì¸ì‡„)
            </button>
        </div>
    </div>

    <script>
        // ì„ ë°• ê·œì¹™ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ (IFë¬¸ ê¸°ë°˜)
        function getRules(shipType, voyageArea, length) {
            // í•­í•´êµ¬ì—­ ê°„ì†Œí™” (harborë„ coastalë¡œ ì²˜ë¦¬)
            if (voyageArea === 'harbor') {
                voyageArea = 'coastal';
            }

            // í™”ë¬¼ì„  (Cargo Ship)
            if (shipType === 'cargo') {
                if (voyageArea === 'ocean') {
                    if (length < 24) {
                        return ['SOLAS ê¸°ë³¸ ê·œì •', 'êµ­ì œ í™”ë¬¼ì„  ì•ˆì „ ì„¤ë¹„ ê·œì¹™', 'MARPOL í˜‘ì•½'];
                    } else if (length < 100) {
                        return ['SOLAS ì „ì²´ ê·œì •', 'êµ­ì œ í™”ë¬¼ì„  ì•ˆì „ ì„¤ë¹„ ê·œì¹™', 'MARPOL í˜‘ì•½', 'ISM Code'];
                    } else {
                        return ['SOLAS ì „ì²´ ê·œì •', 'êµ­ì œ í™”ë¬¼ì„  ì•ˆì „ ì„¤ë¹„ ê·œì¹™', 'MARPOL í˜‘ì•½', 'ISM Code', 'ISPS Code'];
                    }
                } else if (voyageArea === 'coastal') {
                    if (length < 24) {
                        return ['ì—°ì•ˆ í™”ë¬¼ì„  ì•ˆì „ ê·œì¹™', 'ì„ ë°• ì•ˆì „ë²•'];
                    } else if (length < 100) {
                        return ['ì—°ì•ˆ í™”ë¬¼ì„  ì•ˆì „ ê·œì¹™', 'ì„ ë°• ì•ˆì „ë²•', 'MARPOL ì¼ë¶€ ì ìš©'];
                    } else {
                        return ['SOLAS ì¼ë¶€ ê·œì •', 'ì—°ì•ˆ í™”ë¬¼ì„  ì•ˆì „ ê·œì¹™', 'MARPOL í˜‘ì•½'];
                    }
                }
            }

            // íƒ±ì»¤ (Tanker)
            if (shipType === 'tanker') {
                if (voyageArea === 'ocean') {
                    if (length < 24) {
                        return ['SOLAS ê·œì •', 'MARPOL Annex I (ìœ ë¥˜ì˜¤ì—¼ë°©ì§€)', 'IBC Code'];
                    } else if (length < 100) {
                        return ['SOLAS ê·œì •', 'MARPOL Annex I, II', 'IBC Code', 'ISM Code'];
                    } else {
                        return ['SOLAS ì „ì²´', 'MARPOL ì „ ë¶€ì†ì„œ', 'IBC Code', 'ISM Code', 'ISPS Code', 'Double Hull ìš”êµ¬ì‚¬í•­'];
                    }
                } else if (voyageArea === 'coastal') {
                    if (length < 24) {
                        return ['ì—°ì•ˆ íƒ±ì»¤ ì•ˆì „ ê·œì¹™', 'MARPOL Annex I'];
                    } else if (length < 100) {
                        return ['ì—°ì•ˆ íƒ±ì»¤ ì•ˆì „ ê·œì¹™', 'MARPOL Annex I, II'];
                    } else {
                        return ['SOLAS ì¼ë¶€', 'MARPOL Annex I, II', 'ISM Code'];
                    }
                }
            }

            // ì—¬ê°ì„  (Passenger Ship)
            if (shipType === 'passenger') {
                if (voyageArea === 'ocean') {
                    if (length < 24) {
                        return ['SOLAS Chapter III (êµ¬ëª…ì„¤ë¹„)', 'ì—¬ê°ì„  ì•ˆì „ ê·œì¹™', 'LSA Code'];
                    } else if (length < 100) {
                        return ['SOLAS ì „ì²´', 'ì—¬ê°ì„  ì•ˆì „ ê·œì¹™', 'LSA Code', 'ISM Code', 'Safe Return to Port'];
                    } else {
                        return ['SOLAS ì „ì²´', 'ì—¬ê°ì„  ì•ˆì „ ê·œì¹™', 'LSA Code', 'ISM Code', 'ISPS Code', 'Safe Return to Port'];
                    }
                } else if (voyageArea === 'coastal') {
                    if (length < 24) {
                        return ['ì—°ì•ˆ ì—¬ê°ì„  ì•ˆì „ ê·œì¹™', 'êµ¬ëª…ì„¤ë¹„ ê·œì •'];
                    } else if (length < 100) {
                        return ['ì—°ì•ˆ ì—¬ê°ì„  ì•ˆì „ ê·œì¹™', 'SOLAS Chapter III', 'ISM Code'];
                    } else {
                        return ['SOLAS ì¼ë¶€ ê·œì •', 'ì—°ì•ˆ ì—¬ê°ì„  ì•ˆì „ ê·œì¹™', 'ISM Code'];
                    }
                }
            }

            // ì»¨í…Œì´ë„ˆì„  (Container Ship)
            if (shipType === 'container') {
                if (voyageArea === 'ocean') {
                    if (length < 24) {
                        return ['SOLAS ê¸°ë³¸ ê·œì •', 'CSS Code (í™”ë¬¼ ê³ ë°•)', 'IMDG Code'];
                    } else if (length < 100) {
                        return ['SOLAS ì „ì²´', 'CSS Code', 'IMDG Code', 'ISM Code'];
                    } else {
                        return ['SOLAS ì „ì²´', 'CSS Code', 'IMDG Code', 'ISM Code', 'ISPS Code', 'ëŒ€í˜• ì»¨í…Œì´ë„ˆì„  ì•ˆì •ì„± ê·œì •'];
                    }
                } else if (voyageArea === 'coastal') {
                    if (length < 24) {
                        return ['ì—°ì•ˆ í™”ë¬¼ì„  ê·œì¹™', 'CSS Code'];
                    } else if (length < 100) {
                        return ['ì—°ì•ˆ í™”ë¬¼ì„  ê·œì¹™', 'CSS Code', 'IMDG Code'];
                    } else {
                        return ['SOLAS ì¼ë¶€', 'CSS Code', 'IMDG Code', 'ISM Code'];
                    }
                }
            }

            // ì–´ì„  (Fishing Vessel)
            if (shipType === 'fishing') {
                if (voyageArea === 'ocean') {
                    if (length < 24) {
                        return ['ì›ì–‘ ì–´ì„  ì•ˆì „ ê·œì¹™', 'Torremolinos Protocol'];
                    } else if (length < 100) {
                        return ['ì›ì–‘ ì–´ì„  ì•ˆì „ ê·œì¹™', 'Torremolinos Protocol', 'ì–´ì„  ì•ˆì „ í˜‘ì•½'];
                    } else {
                        return ['ì›ì–‘ ì–´ì„  ì•ˆì „ ê·œì¹™', 'Torremolinos Protocol', 'ì–´ì„  ì•ˆì „ í˜‘ì•½', 'ISM Code'];
                    }
                } else if (voyageArea === 'coastal') {
                    if (length < 24) {
                        return ['ì—°ì•ˆ ì–´ì„  ì•ˆì „ ê·œì¹™', 'ì†Œí˜• ì–´ì„  ì•ˆì „ ê¸°ì¤€'];
                    } else if (length < 100) {
                        return ['ì—°ì•ˆ ì–´ì„  ì•ˆì „ ê·œì¹™', 'ì–´ì„ ë²•'];
                    } else {
                        return ['ì—°ì•ˆ ì–´ì„  ì•ˆì „ ê·œì¹™', 'ì–´ì„ ë²•', 'Torremolinos Protocol'];
                    }
                }
            }

            // ìš”íŠ¸ (Yacht)
            if (shipType === 'yacht') {
                if (voyageArea === 'ocean') {
                    if (length < 24) {
                        return ['RCD (Recreational Craft Directive)', 'ì†Œí˜• ì„ ë°• ì•ˆì „ ê¸°ì¤€'];
                    } else if (length < 100) {
                        return ['RCD', 'SOLAS ì¼ë¶€ (ììœ¨ ì ìš©)', 'ISO ì†Œí˜• ìš”íŠ¸ ê¸°ì¤€'];
                    } else {
                        return ['LY3 Code (ëŒ€í˜• ìš”íŠ¸)', 'SOLAS ì¼ë¶€', 'ISM Code (ììœ¨)'];
                    }
                } else if (voyageArea === 'coastal') {
                    if (length < 24) {
                        return ['ì†Œí˜• ì„ ë°• ì•ˆì „ ê·œì¹™', 'RCD'];
                    } else if (length < 100) {
                        return ['ì†Œí˜• ì„ ë°• ì•ˆì „ ê·œì¹™', 'RCD'];
                    } else {
                        return ['ë ˆì €ì„ ë°• ì•ˆì „ ê·œì¹™', 'LY3 Code'];
                    }
                }
            }

            // LNGì„  (LNG Carrier)
            if (shipType === 'lng') {
                if (voyageArea === 'ocean') {
                    if (length < 24) {
                        return ['SOLAS ê¸°ë³¸ ê·œì •', 'IGC Code', 'MARPOL í˜‘ì•½'];
                    } else if (length < 100) {
                        return ['SOLAS ì „ì²´', 'IGC Code', 'MARPOL í˜‘ì•½', 'ISM Code'];
                    } else {
                        return ['SOLAS ì „ì²´', 'IGC Code', 'MARPOL í˜‘ì•½', 'ISM Code', 'ISPS Code', 'ê°€ìŠ¤ìš´ë°˜ì„  íŠ¹ë³„ ìš”êµ¬ì‚¬í•­'];
                    }
                } else if (voyageArea === 'coastal') {
                    if (length < 24) {
                        return ['ì—°ì•ˆ ê°€ìŠ¤ìš´ë°˜ì„  ì•ˆì „ ê·œì¹™', 'IGC Code'];
                    } else if (length < 100) {
                        return ['ì—°ì•ˆ ê°€ìŠ¤ìš´ë°˜ì„  ì•ˆì „ ê·œì¹™', 'IGC Code', 'ISM Code'];
                    } else {
                        return ['SOLAS ì¼ë¶€', 'IGC Code', 'ISM Code', 'MARPOL í˜‘ì•½'];
                    }
                }
            }

            // í•´ë‹¹ ì¡°ê±´ì´ ì—†ëŠ” ê²½ìš°
            return [];
        }

        const descriptions = {
            'SOLAS ê¸°ë³¸ ê·œì •': 'ì„ ë°•ì˜ ì•ˆì „ì„ ìœ„í•œ êµ­ì œ í˜‘ì•½ì˜ ê¸°ë³¸ ìš”êµ¬ì‚¬í•­',
            'SOLAS ì „ì²´ ê·œì •': 'ì„ ë°•ì˜ ì•ˆì „ì— ê´€í•œ êµ­ì œ í˜‘ì•½ ì „ì²´ ì±•í„° ì ìš©',
            'SOLAS ì „ì²´': 'ì„ ë°•ì˜ ì•ˆì „ì— ê´€í•œ êµ­ì œ í˜‘ì•½ ì „ì²´ ì±•í„° ì ìš©',
            'SOLAS ê·œì •': 'ì„ ë°•ì˜ ì•ˆì „ì— ê´€í•œ êµ­ì œ í˜‘ì•½',
            'MARPOL í˜‘ì•½': 'í•´ì–‘ ì˜¤ì—¼ ë°©ì§€ë¥¼ ìœ„í•œ êµ­ì œ í˜‘ì•½',
            'ISM Code': 'êµ­ì œ ì•ˆì „ê´€ë¦¬ ê·œì¹™ - ì„ ë°• ë° íšŒì‚¬ì˜ ì•ˆì „ê´€ë¦¬ ì²´ê³„',
            'ISPS Code': 'êµ­ì œ ì„ ë°• ë° í•­ë§Œì‹œì„¤ ë³´ì•ˆ ê·œì¹™',
            'IBC Code': 'ì‚°ì  í™”í•™ì œí’ˆ ìš´ì†¡ì„  ê·œì¹™',
            'LSA Code': 'êµ¬ëª…ì„¤ë¹„ ê·œì¹™',
            'CSS Code': 'í™”ë¬¼ ê³ ë°• ì•ˆì „ ê·œì¹™',
            'IMDG Code': 'êµ­ì œ í•´ìƒ ìœ„í—˜ë¬¼ ê·œì¹™',
            'Safe Return to Port': 'ì—¬ê°ì„ ì˜ ì•ˆì „í•œ ê·€í•­ ìš”êµ¬ì‚¬í•­',
            'Torremolinos Protocol': 'ì–´ì„  ì•ˆì „ êµ­ì œ í˜‘ì•½',
            'RCD': 'ë ˆì €ì„ ë°• ì§€ì¹¨',
            'LY3 Code': 'ëŒ€í˜• ìš”íŠ¸ ê·œì¹™',
            'Double Hull ìš”êµ¬ì‚¬í•­': 'ì´ì¤‘ì„ ì²´ êµ¬ì¡° ìš”êµ¬ì‚¬í•­',
            'ì„ ë°• ì•ˆì „ë²•': 'êµ­ë‚´ ì„ ë°• ì•ˆì „ì— ê´€í•œ ë²•ë¥ ',
            'ì—°ì•ˆ í™”ë¬¼ì„  ì•ˆì „ ê·œì¹™': 'ì—°ì•ˆì„ í•­í•´í•˜ëŠ” í™”ë¬¼ì„ ì˜ ì•ˆì „ ê¸°ì¤€',
            'ì—°ì•ˆ íƒ±ì»¤ ì•ˆì „ ê·œì¹™': 'ì—°ì•ˆì„ í•­í•´í•˜ëŠ” íƒ±ì»¤ì˜ ì•ˆì „ ê¸°ì¤€',
            'ì—°ì•ˆ ì—¬ê°ì„  ì•ˆì „ ê·œì¹™': 'ì—°ì•ˆì„ í•­í•´í•˜ëŠ” ì—¬ê°ì„ ì˜ ì•ˆì „ ê¸°ì¤€',
            'ì›ì–‘ ì–´ì„  ì•ˆì „ ê·œì¹™': 'ì›ì–‘ì„ í•­í•´í•˜ëŠ” ì–´ì„ ì˜ ì•ˆì „ ê¸°ì¤€',
            'ì—°ì•ˆ ì–´ì„  ì•ˆì „ ê·œì¹™': 'ì—°ì•ˆì„ í•­í•´í•˜ëŠ” ì–´ì„ ì˜ ì•ˆì „ ê¸°ì¤€',
            'ì†Œí˜• ì„ ë°• ì•ˆì „ ê·œì¹™': 'ì†Œí˜• ì„ ë°•ì˜ ì•ˆì „ ê¸°ì¤€',
            'ë ˆì €ì„ ë°• ì•ˆì „ ê·œì¹™': 'ë ˆì € ëª©ì  ì„ ë°•ì˜ ì•ˆì „ ê¸°ì¤€',
            'êµ­ì œ í™”ë¬¼ì„  ì•ˆì „ ì„¤ë¹„ ê·œì¹™': 'í™”ë¬¼ì„ ì— í•„ìš”í•œ ì•ˆì „ ì„¤ë¹„ ê·œì •',
            'ì—¬ê°ì„  ì•ˆì „ ê·œì¹™': 'ì—¬ê°ì„ ì˜ ì•ˆì „ ìš´í•­ì„ ìœ„í•œ ê·œì¹™',
            'ì–´ì„ ë²•': 'ì–´ì„ ì˜ ë“±ë¡ ë° ê´€ë¦¬ì— ê´€í•œ ë²•ë¥ ',
            'ì†Œí˜• ì–´ì„  ì•ˆì „ ê¸°ì¤€': '24ë¯¸í„° ë¯¸ë§Œ ì–´ì„ ì˜ ì•ˆì „ ê¸°ì¤€',
            'êµ¬ëª…ì„¤ë¹„ ê·œì •': 'ì„ ë°• êµ¬ëª…ì„¤ë¹„ì— ê´€í•œ ê·œì •',
            'ISO ì†Œí˜• ìš”íŠ¸ ê¸°ì¤€': 'ISO êµ­ì œ í‘œì¤€ ì†Œí˜• ìš”íŠ¸ ì•ˆì „ ê¸°ì¤€',
            'MARPOL Annex I (ìœ ë¥˜ì˜¤ì—¼ë°©ì§€)': 'MARPOL ë¶€ì†ì„œ I - ìœ ë¥˜ì— ì˜í•œ ì˜¤ì—¼ ë°©ì§€',
            'MARPOL Annex I': 'MARPOL ë¶€ì†ì„œ I - ìœ ë¥˜ì— ì˜í•œ ì˜¤ì—¼ ë°©ì§€',
            'MARPOL Annex I, II': 'MARPOL ë¶€ì†ì„œ I(ìœ ë¥˜), II(ì‚°ì  ìœ í•´ì•¡ì²´ë¬¼ì§ˆ) ì˜¤ì—¼ ë°©ì§€',
            'MARPOL ì „ ë¶€ì†ì„œ': 'MARPOL í˜‘ì•½ ëª¨ë“  ë¶€ì†ì„œ(I-VI) ì ìš©',
            'MARPOL ì¼ë¶€ ì ìš©': 'MARPOL í˜‘ì•½ ì¤‘ ì¼ë¶€ ë¶€ì†ì„œ ì ìš©',
            'ëŒ€í˜• ì»¨í…Œì´ë„ˆì„  ì•ˆì •ì„± ê·œì •': 'ëŒ€í˜• ì»¨í…Œì´ë„ˆì„ ì˜ ë³µì›ì„± ë° ì•ˆì •ì„± ê°•í™” ê·œì •',
            'SOLAS Chapter III (êµ¬ëª…ì„¤ë¹„)': 'SOLAS í˜‘ì•½ ì œ3ì¥ - êµ¬ëª…ì„¤ë¹„ ë° ì¥ì¹˜',
            'SOLAS Chapter III': 'SOLAS í˜‘ì•½ ì œ3ì¥ - êµ¬ëª…ì„¤ë¹„ ë° ì¥ì¹˜',
            'SOLAS ì¼ë¶€ ê·œì •': 'SOLAS í˜‘ì•½ ì¤‘ í•´ë‹¹ ì„ ë°•ì— ì ìš©ë˜ëŠ” ì¼ë¶€ ì±•í„°',
            'SOLAS ì¼ë¶€': 'SOLAS í˜‘ì•½ ì¤‘ í•´ë‹¹ ì„ ë°•ì— ì ìš©ë˜ëŠ” ì¼ë¶€ ì±•í„°',
            'SOLAS ì¼ë¶€ (ììœ¨ ì ìš©)': 'SOLAS í˜‘ì•½ ì¤‘ ììœ¨ì ìœ¼ë¡œ ì ìš©í•  ìˆ˜ ìˆëŠ” ë¶€ë¶„',
            'ISM Code (ììœ¨)': 'êµ­ì œ ì•ˆì „ê´€ë¦¬ ê·œì¹™ - ììœ¨ ì ìš©',
            'ì†Œí˜• ì„ ë°• ì•ˆì „ ê¸°ì¤€': 'ì†Œí˜• ì„ ë°•ì˜ ì•ˆì „ ìš´í•­ì„ ìœ„í•œ ê¸°ì¤€',
            'ì–´ì„  ì•ˆì „ í˜‘ì•½': 'ì–´ì„ ì˜ ì•ˆì „ì— ê´€í•œ êµ­ì œ í˜‘ì•½',
            'IGC Code': 'êµ­ì œ ê°€ìŠ¤ìš´ë°˜ì„  ê·œì¹™ - ì•¡í™”ê°€ìŠ¤ ì‚°ì  ìš´ì†¡ì„  êµ¬ì¡° ë° ì„¤ë¹„',
            'ì—°ì•ˆ ê°€ìŠ¤ìš´ë°˜ì„  ì•ˆì „ ê·œì¹™': 'ì—°ì•ˆì„ í•­í•´í•˜ëŠ” ê°€ìŠ¤ìš´ë°˜ì„ ì˜ ì•ˆì „ ê¸°ì¤€',
            'ê°€ìŠ¤ìš´ë°˜ì„  íŠ¹ë³„ ìš”êµ¬ì‚¬í•­': 'ì•¡í™”ê°€ìŠ¤ ìš´ë°˜ì„ ì˜ í™”ë¬¼ ê²©ë‚©, ì•ˆì „ì„¤ë¹„ íŠ¹ë³„ ìš”êµ¬ì‚¬í•­',
            'ICE Class ê·œì¹™': 'ë¹™í•´ êµ¬ì—­ ìš´í•­ì„ ìœ„í•œ ì„ ì²´ ê°•í™” ë° ì¶”ê°€ ì„¤ë¹„ ìš”êµ¬ì‚¬í•­',
            'Polar Code': 'ê·¹ì§€ ìš´í•­ ì„ ë°•ì— ëŒ€í•œ ì•ˆì „ ë° í™˜ê²½ë³´í˜¸ ê·œì¹™',
            'Oil Recovery ê·œì¹™': 'ìœ ë¥˜ íšŒìˆ˜ ì„¤ë¹„ ë° ìš´ì˜ ì ˆì°¨ì— ê´€í•œ ìš”êµ¬ì‚¬í•­',
            'DP ê·œì¹™': 'ë™ì  ìœ„ì¹˜ ìœ ì§€ ì‹œìŠ¤í…œ ì„¤ì¹˜ ë° ìš´ì˜ ê¸°ì¤€',
            'EEDI ê·œì¹™': 'ì—ë„ˆì§€ íš¨ìœ¨ ì„¤ê³„ ì§€ìˆ˜ ì¶©ì¡± ìš”êµ¬ì‚¬í•­',
            'Green Passport': 'ì„ ë°• í™˜ê²½ ê´€ë¦¬ ë° ì¬í™œìš© ê³„íšì„œ',
            'NOx Technical Code': 'ì§ˆì†Œì‚°í™”ë¬¼ ë°°ì¶œ ì €ê° ê¸°ìˆ  ê·œì¹™',
            'BWTS ê·œì¹™': 'ì„ ë°• í‰í˜•ìˆ˜ ì²˜ë¦¬ì¥ì¹˜ ì„¤ì¹˜ ë° ìš´ì˜ ìš”êµ¬ì‚¬í•­',
            'BWM Convention': 'ì„ ë°• í‰í˜•ìˆ˜ ê´€ë¦¬ í˜‘ì•½',
            'SCRUBBER ê·œì¹™': 'í™©ì‚°í™”ë¬¼(SOx) ë°°ì¶œ ì €ê° ì¥ì¹˜ ì„¤ì¹˜ ë° ìš´ì˜ ê¸°ì¤€',
            'MARPOL Annex VI': 'ì„ ë°•ìœ¼ë¡œë¶€í„°ì˜ ëŒ€ê¸°ì˜¤ì—¼ ë°©ì§€ ê·œì¹™',
            'LNG Fuel ê·œì¹™': 'LNG ì—°ë£Œ ì¶”ì§„ ì„ ë°•ì˜ ì„¤ê³„ ë° ì•ˆì „ ìš”êµ¬ì‚¬í•­',
            'IGF Code': 'ê°€ìŠ¤ ë° ì €ì¸í™”ì  ì—°ë£Œ ì‚¬ìš© ì„ ë°• êµ­ì œ ì•ˆì „ ê·œì¹™',
            'ESP ê·œì¹™': 'ì„ ì²´ ë° ê¸°ê´€ ê°•í™” ê²€ì‚¬ í”„ë¡œê·¸ë¨ ìš”êµ¬ì‚¬í•­'
        };

        // ì„ ê¸‰ë¶€í˜¸ì— ë”°ë¥¸ ì¶”ê°€ ê·œì¹™ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
        function getNotationRules(notations) {
            const additionalRules = [];

            if (notations.includes('ice')) {
                additionalRules.push('ICE Class ê·œì¹™', 'Polar Code');
            }
            if (notations.includes('oil')) {
                additionalRules.push('Oil Recovery ê·œì¹™');
            }
            if (notations.includes('dp')) {
                additionalRules.push('DP ê·œì¹™');
            }
            if (notations.includes('eedi')) {
                additionalRules.push('EEDI ê·œì¹™');
            }
            if (notations.includes('green')) {
                additionalRules.push('Green Passport', 'NOx Technical Code');
            }
            if (notations.includes('bwts')) {
                additionalRules.push('BWTS ê·œì¹™', 'BWM Convention');
            }
            if (notations.includes('scrubber')) {
                additionalRules.push('SCRUBBER ê·œì¹™', 'MARPOL Annex VI');
            }
            if (notations.includes('lngfuel')) {
                additionalRules.push('LNG Fuel ê·œì¹™', 'IGF Code');
            }
            if (notations.includes('esp')) {
                additionalRules.push('ESP ê·œì¹™');
            }

            return additionalRules;
        }

        document.getElementById('shipForm').addEventListener('submit', function(e) {
            e.preventDefault();

            // INPUT: êµ­ì , ì„ ë°•ì˜ ì¢…ë¥˜, í•­í•´êµ¬ì—­, ê¸¸ì´
            const nationality = document.getElementById('nationality').value;
            const shipType = document.getElementById('shipType').value;
            const voyageArea = document.getElementById('voyageArea').value;
            const length = parseInt(document.getElementById('length').value);

            // ì„ íƒëœ ì„ ê¸‰ë¶€í˜¸ ê°€ì ¸ì˜¤ê¸°
            const checkboxes = document.querySelectorAll('input[name="notation"]:checked');
            const notations = Array.from(checkboxes).map(cb => cb.value);

            // IFë¬¸ ê¸°ë°˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ì ìš© ê·œì¹™ ê°€ì ¸ì˜¤ê¸°
            const basicRules = getRules(shipType, voyageArea, length);

            // ì„ ê¸‰ë¶€í˜¸ì— ë”°ë¥¸ ì¶”ê°€ ê·œì¹™ ê°€ì ¸ì˜¤ê¸°
            const notationRules = notations.length > 0 ? getNotationRules(notations) : [];

            // OUTPUT: ê²°ê³¼ í‘œì‹œ
            displayResults(basicRules, notationRules, nationality, shipType, voyageArea, length, notations);
        });

        function displayResults(basicRules, notationRules, nationality, shipType, voyageArea, length, notations = []) {
            const resultDiv = document.getElementById('result');
            const resultContent = document.getElementById('resultContent');
            const totalRules = basicRules.length + notationRules.length;

            if (totalRules === 0) {
                resultContent.innerHTML = '<p style="color: #ef4444;">í•´ë‹¹ ì¡°ê±´ì— ëŒ€í•œ ê·œì¹™ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
            } else {
                let html = '<div style="margin-bottom: 20px;">';
                html += `<span class="badge">êµ­ì : ${getNationalityName(nationality)}</span>`;
                html += `<span class="badge">ì„ ë°• ì¢…ë¥˜: ${getShipTypeName(shipType)}</span>`;
                html += `<span class="badge">í•­í•´êµ¬ì—­: ${getVoyageAreaName(voyageArea)}</span>`;
                html += `<span class="badge">ê¸¸ì´: ${length}m</span>`;

                // ì„ ê¸‰ë¶€í˜¸ í‘œì‹œ
                if (notations.length > 0) {
                    const notationNames = {
                        'ice': 'ICE',
                        'oil': 'OIL REC',
                        'dp': 'DP',
                        'eedi': 'EEDI',
                        'green': 'GREEN',
                        'bwts': 'BWTS',
                        'scrubber': 'SCRUBBER',
                        'lngfuel': 'LNG FUEL',
                        'esp': 'ESP'
                    };
                    notations.forEach(notation => {
                        html += `<span class="badge" style="background: #059669;">${notationNames[notation]}</span>`;
                    });
                }

                html += '</div>';

                // 3ì»¬ëŸ¼ ê·¸ë¦¬ë“œ ì‹œì‘
                html += '<div class="result-grid">';

                // ê¸°ë³¸ ê·œì¹™ í‘œì‹œ (íŒŒë€ìƒ‰)
                basicRules.forEach(rule => {
                    html += `
                        <div class="result-item">
                            <h4>âœ“ ${rule}</h4>
                            <p>${descriptions[rule] || 'ê·œì¹™ ì„¤ëª…ì´ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.'}</p>
                        </div>
                    `;
                });

                // ì„ ê¸‰ë¶€í˜¸ ê·œì¹™ í‘œì‹œ (ì´ˆë¡ìƒ‰)
                notationRules.forEach(rule => {
                    html += `
                        <div class="result-item" style="border-left: 4px solid #10b981; background: #f0fdf4;">
                            <h4 style="color: #059669;">âœ“ ${rule}</h4>
                            <p>${descriptions[rule] || 'ê·œì¹™ ì„¤ëª…ì´ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.'}</p>
                        </div>
                    `;
                });

                // ê·¸ë¦¬ë“œ ì¢…ë£Œ
                html += '</div>';

                resultContent.innerHTML = html;
            }

            resultDiv.classList.add('show');

            // PDF ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ í‘œì‹œ
            const pdfBtn = document.getElementById('pdfBtn');
            if (totalRules > 0) {
                pdfBtn.classList.add('show');
            } else {
                pdfBtn.classList.remove('show');
            }
        }

        function downloadPDF() {
            // ë¸Œë¼ìš°ì € ë„¤ì´í‹°ë¸Œ PDF ì¶œë ¥ ì‚¬ìš© (ìµœê³  í™”ì§ˆ)
            window.print();
        }

        function getShipTypeName(type) {
            const names = {
                cargo: 'í™”ë¬¼ì„ ',
                tanker: 'íƒ±ì»¤',
                passenger: 'ì—¬ê°ì„ ',
                container: 'ì»¨í…Œì´ë„ˆì„ ',
                fishing: 'ì–´ì„ ',
                yacht: 'ìš”íŠ¸',
                lng: 'LNGì„ '
            };
            return names[type] || type;
        }

        function getVoyageAreaName(area) {
            const names = {
                ocean: 'ì›ì–‘',
                coastal: 'ê·¼í•´',
                harbor: 'ì—°í•´',
                river: 'ë‚´ìˆ˜ë©´'
            };
            return names[area] || area;
        }

        function getNationalityName(nationality) {
            const names = {
                korean: 'í•œêµ­ì ',
                foreign: 'ìˆœìˆ˜ì™¸êµ­ì ',
                bbchp: 'BBCHP'
            };
            return names[nationality] || nationality;
        }
    </script>
</body>
</html>
